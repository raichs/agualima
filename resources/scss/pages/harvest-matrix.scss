// Harvest Matrix Styles

// Variable para controlar el efecto sticky de la tabla
// Para desactivar el efecto sticky, cambia a false: $harvest-matrix-sticky-enabled: false;
// Esto es Ãºtil para probar la tabla sin el comportamiento sticky
$harvest-matrix-sticky-enabled: false !default;

// Ejemplo de uso para desactivar sticky:
// $harvest-matrix-sticky-enabled: false;

.harvest-matrix {
    &__table-container {
        max-height: 70vh;
        overflow: auto;
    }

    &__table {
        min-width: 1200px;
        margin-bottom: 0;

        @media (max-width: 991px) {
            min-width: auto;
        }
    }

    // Sticky columns
    &__sticky-col {
        @if $harvest-matrix-sticky-enabled {
            position: sticky;
        } @else {
            position: static;
        }
        background-color: white !important;
        z-index: 1;
        border-right: 2px solid #dee2e6;
        padding: 8px;
        @if $harvest-matrix-sticky-enabled {
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 991px) {
            position: static;
            box-shadow: none;
            border-right: none;
        }

        &--variety {
            @if $harvest-matrix-sticky-enabled {
                left: 0;
                z-index: 2;
            }
            min-width: 160px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--shift {
            @if $harvest-matrix-sticky-enabled {
                left: 160px;
                z-index: 2;
            }
            min-width: 140px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--lots {
            @if $harvest-matrix-sticky-enabled {
                left: 300px;
                z-index: 2;
            }
            min-width: 200px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--lines {
            @if $harvest-matrix-sticky-enabled {
                left: 500px;
                z-index: 2;
            }
            min-width: 100px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--kilos {
            @if $harvest-matrix-sticky-enabled {
                left: 600px;
                z-index: 2;
            }
            min-width: 80px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--kg-avg {
            @if $harvest-matrix-sticky-enabled {
                left: 680px;
                z-index: 2;
            }
            min-width: 100px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--shifts {
            @if $harvest-matrix-sticky-enabled {
                left: 780px;
                z-index: 2;
            }
            min-width: 80px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }

        &--kg-turno {
            @if $harvest-matrix-sticky-enabled {
                left: 860px;
                z-index: 2;
            }
            min-width: 100px;
            vertical-align: middle;

            @media (max-width: 991px) {
                min-width: auto;
            }
        }
    }

    // Table headers
    &__header {
        &--day {
            min-width: 180px;
            text-align: center;
            padding: 4px;
        }

        &--date {
            text-align: center;
            padding: 4px;
            font-size: 0.85rem;
        }

        &--label {
            padding: 4px;
            font-size: 0.75rem;
            text-align: center;
        }
    }

    // Total rows
    &__total-row {
        font-weight: bold;
        border-top: 2px solid #0f5132;

        &--total {
            background-color: #d1e7dd !important;

            .harvest-matrix__sticky-col {
                background-color: #d1e7dd !important;
                border-right: 2px solid #0f5132;
            }

            td {
                border-right: 1px solid #0f5132;
            }
        }

        &--kg-jornal {
            background-color: #cfe2ff !important;
            border-top: 2px solid #084298;

            .harvest-matrix__sticky-col {
                background-color: #cfe2ff !important;
                border-right: 2px solid #084298;
            }

            td {
                border-right: 1px solid #084298;
            }
        }
    }

    // Input fields
    &__input {
        &--readonly {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        &--sm {
            width: 60px;
        }

        &--md {
            width: 70px;
        }
    }

    // Select styles
    &__select {
        &--error {
            .select__control {
                border-color: #dc3545 !important;

                &:hover {
                    border-color: #dc3545 !important;
                }
            }
        }

        &-error-text {
            font-size: 0.7rem;
            display: block;
        }
    }

    // Lot container
    &__lot-container {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        width: 100%;
    }
}

// React Select custom styles
.select2 {
    font-size: 0.875rem;
}
